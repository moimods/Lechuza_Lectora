<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Lechuza Lectora - Registro</title>
    <link rel="icon" type="image/x-icon" href="../../Imagenes/logo.png">
    <link rel="stylesheet" href="../../Estilos/Estilo1.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="../../Js/captcha.js" defer></script>
</head>
<body class="form-page">

    <main class="main-content form-main">
        <div class="background-overlay" style="filter: brightness(0.6);"></div>

        <div class="form-card registration-card">
            <h1>Formulario de Registro</h1>

            <form class="registration-grid" id="registrationForm"> 
                <div class="section-group personal-data">
                    <h2>Datos Personales</h2>
                    <div class="input-group"><label for="nombres">Nombres:</label><input type="text" id="nombres" required></div>
                    <div class="input-group"><label for="apellido1">Primer apellido:</label><input type="text" id="apellido1" required></div>
                    <div class="input-group"><label for="apellido2">Segundo apellido:</label><input type="text" id="apellido2"></div>
                    <div class="input-group"><label for="fecha_nacimiento">Fecha de nacimiento:</label><input type="date" id="fecha_nacimiento" required></div>
                </div>

                <div class="section-group contact-data">
                    <h2>Información de Cuenta</h2>
                    <div class="input-group"><label for="nickname">Apodo (Nickname):</label><input type="text" id="nickname"></div>
                    <div class="input-group"><label for="telefono">Numero telefónico:</label><input type="tel" id="telefono" required></div>
                    <div class="input-group"><label for="domicilio">Domicilio:</label><input type="text" id="domicilio" required></div>
                    <div class="input-group"><label for="email">Correo electrónico:</label><input type="email" id="email" required></div>
                </div>
                
                <div class="section-group password-data">
                    <h2>Seguridad</h2>
                    <div class="input-group">
                        <label for="password">Contraseña:</label>
                        <div class="password-wrapper">
                            <input type="password" id="password" maxlength="10" required>
                            <i class="fa-solid fa-eye password-toggle" onclick="togglePass('password')"></i>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="confirm_password">Confirmar contraseña:</label>
                        <div class="password-wrapper">
                            <input type="password" id="confirm_password" maxlength="10" required>
                            <i class="fa-solid fa-eye password-toggle" onclick="togglePass('confirm_password')"></i>
                        </div>
                    </div>
                    
                    <div class="password-validation-area">
                        <ul id="password-requirements" style="font-size: 0.8em; list-style: none; padding: 0;">
                            <li id="reg-req-match"><i class="fa-solid fa-circle-info"></i> Las contraseñas deben coincidir.</li>
                        </ul>
                    </div>

                    <div class="captcha-group">
                        <div class="captcha-display-wrapper">
                            <span id="captcha-display" class="captcha-display" style="background: #ddd; padding: 5px 15px; font-weight: bold; letter-spacing: 5px;">JUPRO</span> 
                            <i id="captcha-refresh" class="fa-solid fa-sync-alt" style="cursor: pointer; margin-left: 10px;"></i>
                        </div>
                        <label for="captcha-input">Introducir captcha:</label>
                        <input type="text" id="captcha-input" required> 
                    </div>
                </div>
            </form>

            <div class="form-actions-bottom">
                <button type="submit" form="registrationForm" class="btn-register">Registrarse</button>
                <button type="button" class="btn-cancel" onclick="window.location.href='Inicio_sesion.html'">Cancelar</button>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="copyright">
            © Todos los derechos reservados 2026. Diseñado por La Lechuza Lectora ©
        </div>
    </footer>
    
    <div id="success-modal" class="modal-backdrop" style="display:none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;">
        <div class="modal-content" style="background: white; padding: 30px; border-radius: 10px; text-align: center;">
            <i class="fa-solid fa-circle-check" style="font-size: 50px; color: green;"></i>
            <h2>¡Registro Exitoso!</h2>
            <p>Tu cuenta ha sido creada. Ahora puedes iniciar sesión.</p>
            <button id="btn-modal-accept" class="btn-primary" style="padding: 10px 20px; cursor:pointer;">Aceptar</button>
        </div>
    </div>

    <script>
        // Función para ver/ocultar contraseña
        function togglePass(id) {
            const input = document.getElementById(id);
            input.type = input.type === "password" ? "text" : "password";
        }

        // Manejo del formulario
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const pass = document.getElementById('password').value;
            const confirm = document.getElementById('confirm_password').value;
            const captcha = document.getElementById('captcha-input').value.toUpperCase();

            // Validación simple de contraseñas
            if (pass !== confirm) {
                alert("Las contraseñas no coinciden.");
                return;
            }

            // Simulación de validación de Captcha
            if (captcha !== "JUPRO") {
                alert("Captcha incorrecto. Intenta de nuevo.");
                return;
            }

            // Mostrar Modal de Éxito
            document.getElementById('success-modal').style.display = 'flex';
        });

        // Al dar clic en Aceptar en el modal, redirigir al Login
        document.getElementById('btn-modal-accept').addEventListener('click', function() {
            window.location.href = 'Inicio_sesion.html';
        });
    </script>
</body>
</html>